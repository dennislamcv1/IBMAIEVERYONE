<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@10.7.1/styles/default.min.css">
  </head>
  <body>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-CB0103EN-SkillsNetwork/labs/Module4/images/IDSNlogo.png" width="300">
    <h4>Lab 6 - Implement the Dialog</h4>
    <p>Objective for Exercise:</p>
    <ul>
      <li>How to Create a Dialog and improve the prompt.</li>
      <li>How to Add Chit Chat nodes.</li>
    </ul>
    <p>
      With intents and entities under our belts, we can finally look at the third component: the
      dialog.
    </p>
    <p>
      In fact, at this point, our chatbot can understand some intents and detect a few specific pieces
      of information thanks to entities.
    </p>
    <p>
      What we are missing is using this information to formulate appropriate responses to the user.
      We’ll do so in this module to create a simple, but useful chatbot.
    </p>
    <p>In this lab, we'll start by defining chit chat responses.</p>
    <h1>Exercise 1: Create a Dialog and improve the prompt</h1>
    <p>Let's kick things off by investigating the dialog and adding a good prompt for our chatbot.</p>
    <ol>
      <li><strong>Click on the</strong> <em><strong>Dialog</strong></em> <strong>section</strong> of your skill.</li>
      <li>Take a moment to <strong>investigate the default</strong> <em><strong>Welcome</strong></em> <strong>and</strong> <em><strong>Anything else</strong></em> <strong>nodes</strong> that were</li>
    </ol>
    <p>generated by default for you, by clicking on them.</p>
    <ol start="3">
      <li><strong>Open the</strong> <em><strong>Try it out</strong></em> <strong>panel</strong> and click on the <em>Clear</em> link at the top to start testing the chatbot</li>
    </ol>
    <p>from scratch.</p>
    <p>The default prompt, “Hello, How Can I help you?” is actually not very user-friendly. <strong>Let's change
it.</strong></p>
    <p>
      Close the <em>Try it out</em> panel, and then select the <em>Welcome</em> node. Here you’ll want to edit the
      response to say:
    </p>
    <p>
      Hello. My name is Florence and I'm a chatbot here to assist you with your
      questions about store hours, locations, as well as flower recommendations.
    </p>
    <p>
      Change the name from Florence, to whatever flower-inspired name you prefer, to make it
      yours.
    </p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-CB0103EN-SkillsNetwork/labs/Module4/images/6.1.PNG" width="600">
    <p>
      Open the <em>Try it out</em> panel and click the <em>Clear</em> link at the top once again. This time you should see
      the much more informative prompt we just specified.
    </p>
    <ol start="4">
      <li>Good. Now <strong>try replying hello</strong> in the <em>Try it out</em> panel. What happens? Watson recognized the</li>
    </ol>
    <p>
      right intent (i.e., #greetings) but doesn't have a node to handle greetings, so the fallback node
      <em>Anything else</em> was executed. We'll remedy this in the next exercise.
    </p>
    <p>
      It's worth noting that if you enter a greeting (or anything at this point) multiple times, you'll get
      a different response each time. The reason for this is that the <em>Anything else</em> node has three
      response variations by default. Furthermore, these are set in sequential mode. So, every time
      we hit this node, the next response variation is provided to us, as shown below. 
      <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-CB0103EN-SkillsNetwork/labs/Module4/images/6.2.PNG" width="600">
    </p>
    <p>
      If we didn't care about the specific order, we could set this to random and a random variation
      would be provided each time.
    </p>
    <p>
      The reason why we want variation is that we don't want to robotically say to the user, <em>I don't
understand</em> every time the chatbot fails to handle the user input with an appropriate node. It
      gets old fast and makes our chatbot come across as not as smart as it could be.
    </p>
    <p>
      For nodes that are unlikely to be hit multiple times within a conversation, it's okay to have a
      single response with no variations. In every other case, variations are good to have.
    </p>
    <p>
      You might wonder whether you should prefer sequential or random for your variations.
      Sequential works well when you plan to leverage your knowledge that the node was hit
      multiple times to provide a better response to the user. Random when the variation that is
      given to the user doesn't matter.
    </p>
    <p>Go ahead and <strong>add a fourth variation</strong> to the <em>Anything else</em> node, with the following text:</p>
    <p>
      It looks like we are not quite getting each other today. Would you like to
      talk to a human agent instead? If so, please contact us at 555- 123 - 4567 or
      email us at <a href="https://mailto:support@example.org/?utm_medium=Exinfluencer&#x26;utm_source=Exinfluencer&#x26;utm_content=000026UJ&#x26;utm_term=10006555&#x26;utm_id=NA-SkillsNetwork-Channel-SkillsNetworkCoursesIBMDeveloperSkillsNetworkCB0103ENSkillsNetwork20718357-2022-01-01" target="_blank" rel="external">support@example.org</a>.
    </p>
    <p>
      The \ before the @ is needed to display the special character (something that programmers call,
      "escaping").
    </p>
    <p>
      Because we have this node’s responses set in sequential mode, we ensure that this escalation
      of the sort is only given as an option after we failed to understand the user four times in the
    </p>
    <p>
      same conversation. If this was set to random, we'd risk escalating the very first time we don't
      understand the user, which is typically not what we want.
    </p>
    <h1>Exercise 2: Add Chit Chat nodes</h1>
    <p>
      As you know, we have three chit chat intents: #greetings, #thank_you, and #goodbyes. We
      now need to have nodes that specify what response we want to give the user when such
      intents are detected.
    </p>
    <p>
      We have a couple of strategies possible here. We could create three nodes, one for each of
      these intents. This is the most common and simple approach. The other option would be to
      create a single node for chit chat that uses multiple conditional responses attaching a condition
      to each response.
    </p>
    <p>
      I would recommend that you stick to the traditional way as it's more flexible. It allows us to add
      more chit chat nodes down the line, as well as making the chit chat logic more complex if
      needed.
    </p>
    <p>
      We do still want to keep things organized, separating small talk from domain-specific nodes. So,
      we'll create a folder for chit chat, and we'll create three nodes inside for now. The picture
      below shows the structure of the lab’s end result.
    </p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-CB0103EN-SkillsNetwork/labs/Module4/images/6.3.PNG" width="600">
    <p>
      At any time, you'll be able to collapse or expand the folder by clicking on the folder icon next in
      the <em>Chitchat</em> folder.
    </p>
    <p>Follow these steps to implement this in your chatbot.</p>
    <ol>
      <li>Click on the <em>Add folder</em> button. <strong>Name the folder Chitchat.</strong> You don't need to specify a</li>
    </ol>
    <p>
      condition for the folder, as the conditions of the child nodes will suffice.
      2. We need to ensure that the folder is located between our prompt node (i.e., <em>Welcome</em> ) and
      our fallback node (i.e., <em>Anything else</em> ). So, if it was created above the <em>Welcome</em> node (or below
      <em>Anything else</em> ), you’ll want to click on the three vertical dot icon to the right of the folder and
      then click <em>Move</em>.
    </p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-CB0103EN-SkillsNetwork/labs/Module4/images/6.4.PNG" width="600">
    <p>Next, you’ll need to select the <em>Welcome</em> node, and click on <em>Below node</em>.</p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-CB0103EN-SkillsNetwork/labs/Module4/images/6.5.PNG" width="600">
    <p>
      This will move the folder below <em>Welcome</em>. If it opened the folder for you, click on the X icon to
      close it and to return to the dialog.
    </p>
    <ol start="3">
      <li>Select the options for the node (by clicking on the three vertical dot icon, sometimes called</li>
    </ol>
    <p>
      the more options or kebab menu) in the <em>Chitchat</em> folder, then <strong>click</strong> <em><strong>Add node to folder</strong></em> , as
      shown in the screenshot below.
    </p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-CB0103EN-SkillsNetwork/labs/Module4/images/6.6.PNG" width="600">
    <p>This will create an empty child node within the folder.</p>
    <ol start="4">
      <li><strong>Name this node Greetings.</strong> We want it to be executed when the #greetings intent is</li>
    </ol>
    <p>
      detected, so under <em>If assistant recognizes</em> <strong>enter the #greetings intent.</strong> Autocomplete will help
      you find the intent (not that useful here, but quite handy in complex chatbots with many
      intents).
    </p>
    <p>
      It's worth noting that you can make the condition of a node as complex or as simple as you'd
      like. You can use || (or its alias OR) and &#x26;&#x26; (or its alias AND) to make the condition more
      complex. We don't want this here, but if you wanted to execute a node if the intent detected
      was either #greetings or #goodbyes we could simply type #greetings OR #goodbyes in the
      node condition.
    </p>
    <ol start="5">
      <li><strong>Enter a few appropriate responses</strong>. The scenario we are handling here is one in which we</li>
    </ol>
    <p>
      already greeted the user with our prompt, and they replied with a greeting. So, we should greet
      them back without repeating the prompt verbatim.
    </p>
    <p>
      <strong>Enter a few responses to offer some variation</strong> if we get a greeting-happy user. Examples could
      be:
    </p>
    <ul>
      <li>Hi there. How can I help you?</li>
      <li>Hello. How may I assist you today?</li>
      <li>Hi. What can I help you with?</li>
    </ul>
    <p>
      Normally, I would advise against open-ended questions such as “how can I help you?”, but since
      we already qualified the scope of the chatbot in our prompt, we can get away with it here.
    </p>
    <ol start="6">
      <li>You can leave the response variations set to sequential or set them to random if you prefer.</li>
    </ol>
    <p>
      The third option, <em>multiline</em> , is not applicable here, as it would provide a response over multiple
      lines using each response you wrote as its own line, de facto asking the user three variations of
      “how can I help you?” all at once.
    </p>
    <p>This is what the node will look like if you followed each step correctly.</p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-CB0103EN-SkillsNetwork/labs/Module4/images/6.7.PNG" width="600">
    <ol start="7">
      <li>The <em>Then assistant should</em> section at the bottom of the node defines what happens after this</li>
    </ol>
    <p>
      node has been executed and a response was given to the user. In the case of this node, after we
      responded to the user, we expect them to enter some more questions, so you can also <strong>leave</strong>
      <em><strong>Wait for reply</strong></em> as the final action for this node.
      8. Close the node and open the <em>Try it out</em> panel (if you closed it). Click the <em>Clear</em> link to start a
      new conversation. <strong>Try to reply hi Florence to the chatbot prompt</strong>.
    </p>
    <p>
      If you see a proper response like in the image below, congratulations! You just had your first
      conversation with our chatbot. It's not a complex interaction, but it's a good start.
    </p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-CB0103EN-SkillsNetwork/labs/Module4/images/6.8.PNG" width="600">
    <p>You can now close the <em>Try It out</em> panel.</p>
    <ol start="9">
      <li>Now we need to repeat the process to handle the scenario in which our user thanks us and</li>
    </ol>
    <p>the #thank_you intent is detected.</p>
    <p>What we want to do is create a new node inside of the <em>Chitchat</em> folder. <strong>Click on the more
options menu (the three vertical dot icon, that is) for the</strong> <em><strong>Greetings</strong></em> <strong>node, and then click</strong> <strong><em>Add
node below</em>****.</strong></p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-CB0103EN-SkillsNetwork/labs/Module4/images/6.9.PNG" width="600">
    <p>This will create an empty peer node below <em>Greetings</em>.</p>
    <p>
      The order of these chit chat nodes is not that important because they are all simple nodes with
      independent intents. However, the order can matter in more complex scenarios (as we'll see in
      a moment).
    </p>
    <p>
      It also makes sense to place them in a logical manner that is roughly equivalent to how a
      normal conversation would go. Greetings first, thanks in the middle, and goodbyes at the end.
    </p>
    <p>
      Go ahead and make this node <strong>handle the #thank_you intent</strong>. You can name it whatever you
      like but Thank You will do. For the responses, you'll likely want something like:
    </p>
    <ul>
      <li>You're welcome. Please let me know if you need anything else.</li>
      <li>My pleasure.</li>
      <li>No problem. Let me know if there is anything else I can help with.</li>
    </ul>
    <p>You could get cheeky, and add:</p>
    <ul>
      <li>I aim to please.</li>
    </ul>
    <p>
      Depending, of course, on how much personality you'd like to inject in your chatbot. BTW, yes,
      emojis are supported.
    </p>
    <p><strong>Set the response variation to random</strong> by clicking on the <em>random</em> link.</p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-CB0103EN-SkillsNetwork/labs/Module4/images/6.10.PNG" width="600">
    <ol start="10">
      <li><strong>Repeat the process by adding a Goodbyes node</strong> that handles the #goodbyes intent. This</li>
    </ol>
    <p>
      time make sure you use the <em>Thank You</em> node more options menu to select <em>Add node below</em> ,
      since we want this third node to go below <em>Thank you</em>.
    </p>
    <p>For now, you can use standard, polite goodbye responses such as:</p>
    <ul>
      <li>Nice talking to you today.</li>
      <li>Have a nice day.</li>
      <li>Goodbye.</li>
    </ul>
    <p>(We’ll improve these later on in the course.) Finally, <strong>set their order to random.</strong></p>
    <ol start="11">
      <li>Start a new conversation in the <em>Try it out</em> panel and <strong>test all three intents</strong> to ensure you get</li>
    </ol>
    <p>a proper response in each case. As you can see below, Florence is coming along quite well.</p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-CB0103EN-SkillsNetwork/labs/Module4/images/6.11.PNG" width="600">
    <h2>Author(s)</h2>
    <p><a href="https://www.linkedin.com/in/antoniocangiano/?utm_medium=Exinfluencer&#x26;utm_source=Exinfluencer&#x26;utm_content=000026UJ&#x26;utm_term=10006555&#x26;utm_id=NA-SkillsNetwork-Channel-SkillsNetworkCoursesIBMDeveloperSkillsNetworkCB0103ENSkillsNetwork20718357-2022-01-01" target="_blank" rel="external">Antonio Cangiano</a></p>
    <h2>Changelog</h2>
    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Version</th>
          <th>Changed by</th>
          <th>Change Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>2020-08-27</td>
          <td>2.0</td>
          <td>Srishti</td>
          <td>Migrated Lab to Markdown and added to course repo in GitLab</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
      </tbody>
    </table>
    <h2></h2>
    <h3 align="center">© IBM Corporation 2020. All rights reserved.</h3>
    <h3></h3>
    <script>window.addEventListener('load', function() {
snFaculty.inject();
});</script>
    <script src="https://skills-network-assets.s3.us.cloud-object-storage.appdomain.cloud/scripts/inject.43989f87.js"></script>
    <script src="https://unpkg.com/@highlightjs/cdn-assets@10.7.1/highlight.min.js"></script>
    <script src="https://unpkg.com/highlightjs-badge@0.1.9/highlightjs-badge.min.js"></script>
  </body>
</html>
